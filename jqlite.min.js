/*!
 * GIT: https://github.com/shrekshrek/jqlite
 **/

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.$=e()}(this,function(){"use strict";var t=Array,e=[],n=e.slice,r=e.indexOf,i=document,o=Object.prototype.hasOwnProperty,a=Object.assign,c=void 0,u=!1,s=!0,f=null,l=/^\s*<(\w+|!)[^>]*>/,h={tr:"tbody",tbody:"table",thead:"table",tfoot:"table",td:"tr",th:"tr","*":"div"},p=i.querySelector("head"),d="__jql_EventListenersMap",v={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1};function m(t,e,n){var r=e.e,i=e.fn,o=e.ns,a=e.sel;return t&&(!r||t.e===r)&&(!o||(n?t.ns===o:0===t.ns.indexOf(o)))&&(!i||t.fn===i)&&(!a||t.sel===a)}function g(t){var e,n;if(t)if(C(t)){var r=t.indexOf(".");-1!==r?(e=t.slice(0,r).trim(),n=t.slice(r).trim()+"."):(e=t.trim(),n="")}else if(w(t))return a({},t);return{e:e,ns:n}}function y(t){return t instanceof Window}function b(t){return"object"==typeof t}function w(t){return!!t&&b(t)}function T(t){return w(t)&&!y(t)&&Object.getPrototypeOf(t)===Object.prototype}function L(t){return"function"==typeof t}function C(t){return"string"==typeof t}function x(t){return function(t){return"number"==typeof t}(t)&&isFinite(t)}function E(t){return"boolean"==typeof t}function O(e){return t.isArray(e)}function M(t){return t instanceof Element}function N(t){return M(t)||y(t)||function(t){return t instanceof Document}(t)}function j(t){return t instanceof NodeList}function A(t){return t instanceof HTMLCollection}function S(t,e){if(w(t))for(var n in t)if(!e||o.call(t,n))return u;return s}var D=window.$=function(t,e){var n;if(!t)return new H;if(I(t))return t;if(C(t))if("<"===(t=t.trim())[0]){var r=l.test(t)&&RegExp.$1;r in h||(r="*"),n=F(t,r).children}else n=R(e||i,t);else if(O(t)||j(t)||A(t))n=t;else if(w(t))n=[t];else if(L(t))return X(t);return new H(n)};function H(t){this.length=0,function t(e,n){for(var i,o=0,a=0,c=n?n.length:0;a<c;a++)O(i=n[a])||j(i)||A(i)||I(i)?t(e,i):-1===r.call(e,n)&&(o++,e[a]=n[a]);e.length+=o}(this,t)}function q(t,e,n){if(e&&(w(e)||L(e)))for(var r in e)o.call(e,r)&&(n&&(T(e[r])||O(e[r]))?(T(e[r])&&!T(t[r])&&(t[r]={}),O(e[r])&&!O(t[r])&&(t[r]=[]),q(t[r],e[r],n)):e[r]!==c&&(t[r]=e[r]))}function I(t){return t instanceof H}function R(t,e){return t.querySelectorAll(e)}function W(t,e,n){return function(t){if(O(t)||C(t))return s;if(!w(t))return u;var e=t.length;return 0===e||x(e)&&e>0&&e-1 in t}(t)?P(t,e,n):B(t,e,n)}function P(t,e,n){if(t)for(var r=0,i=t.length;r<i&&e.call(n||t[r],r,t[r])!==u;r++);return t}function B(t,e,n){if(w(t))for(var r in t)if(o.call(t,r)&&e.call(n||t[r],r,t[r])===u)return t;return t}function X(t){(i.attachEvent?"complete"===i.readyState:"loading"!==i.readyState)?t():i.addEventListener("DOMContentLoaded",t,u)}function k(){return i.implementation.createHTMLDocument("")}function F(t,e,n){w(e)&&(n=e,e="");var r=(n||k()).createElement(e||"div");return r.innerHTML=t,r}function $(t){if(w(t)){var e,n=[];for(var r in t)o.call(t,r)&&(e=t[r])!=f&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e));return n.join("&")}return t}function _(t,e,n,r){return L(e)&&(r=n,n=e,e=c),L(n)||(r=n,n=c),{url:t,data:e,success:n,dataType:r}}function U(t,e){var n=i.createElement("script");if(a(n,t),w(e))for(var r in e)o.call(e,r)&&n.setAttribute(r,e[r]);return p.appendChild(n),p.removeChild(n),n}function z(t,e){try{return t[e]=c,delete t[e]}catch(t){}}function J(t){return t?"":"&_="+Date.now()}function G(t,e){return(t=String(t).replace(/#[\s\S]*/,""))+(-1===t.indexOf("?")?"?":"&"===t[t.length-1]?"":"&")+e.replace(/^[?&]+/,"")}function V(){}function Z(t){if(w(t)&&C(t.url)){if("jsonp"===t.dataType)return function(t){var e=t.jsonp||"callback",n=t.jsonpCallback||"jsonpCallback_"+Date.now(),r=t.success,i=t.onerror,o=t.complete;r=L(r)?r:c,i=L(i)?i:c,o=L(o)?o:c;var a=t.data||{};a[e]=n;var l,h,p=t.timeout;window[n]=function(t){h=t};var d,v=function(t){l&&clearTimeout(l),d&&(d.abort=V);var e,a=t.currentTarget,u=r,s=i,f=h,p=o,m=t.type;d=h=l=o=r=i=v=c,"timeout"===m&&t.isLocaleAbort||(a&&(a=a.onerror=a.onload=a.onabort=r),z(window,n),n=r),"load"!==m||f===c&&(m="parseError")?s&&s(e,m):(e=f,u&&u(e,m)),p&&p(e,m)};return p>0&&(l=setTimeout(function(){l&&(l=f,v&&v({type:"timeout"}))},p)),U({src:G(t.url,$(a)+J(t.cache!==u)),onload:v,onerror:v,onabort:v}),d={abort:function(){v&&v({type:"abort",isLocaleAbort:s})}}}(t);var e=$(t.data||{}),n=t.body;n||(n=e,e="");var r,i=new XMLHttpRequest,o=t.type?t.type.toUpperCase():"GET",l=t.dataType?t.dataType.toLowerCase():"text",h="script"!==l&&t.async!==u;i.open(o,G(t.url,e,J(t.cache!==u)),h,t.username,t.password);var p=t.xhrFields;if(w(p))for(r in p)i[r]=p[r];var d=t.mimeType;d&&i.overrideMimeType&&i.overrideMimeType(d);var v={"Content-Type":t.contentType||"POST"===o&&"application/x-www-form-urlencoded; charset=UTF-8"||""};for(r in a(v,t.headers),t.crossDomain||v["X-Requested-With"]||(v["X-Requested-With"]="XMLHttpRequest"),v)i.setRequestHeader(r,v[r]);var m=t.success,g=t.onerror,y=t.complete;m=L(m)?m:c,g=L(g)?g:c,y=L(y)?y:c;var b,T,x=t.timeout,E=function(t){T&&clearTimeout(T),b&&(b.abort=V);var e=t.type,n=i,r=l,o=m,a=g,u=y;if(b=l=T=m=g=y=i=E=c,n){n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=c;var s,f=n.status,h=n.responseType;if((t.isLocalAbort||t.isLocaleTimeout)&&n.abort&&n.abort(),"load"!==e||(f<200||f>=400)&&"error"===e)a&&a(s,e,n);else{if("arraybuffer"===h||"blob"===h)s=n.response;else switch(s=n.responseText,r){case"json":s=JSON.parse(s);break;case"xml":s=n.responseXML;break;case"script":U({text:s})}o&&o(s,e,n)}u&&u(s,e,n)}};return i.onload=i.onerror=E,i.onabort!==c?i.onabort=E:i.onreadystatechange=function(){E&&i&&4===i.readyState&&setTimeout(function(){E&&E({type:"abort"})})},x>0&&(i.timeout=x,i.ontimeout!==c?i.ontimeout=E:h&&(T=setTimeout(function(){T&&(T=f,E&&E({type:"timeout",isLocaleTimeout:s}))},x))),i.onerror=function(){t.error&&t.error()},i.send(n),b={abort:function(){E&&E({type:"abort",isLocaleAbort:s})}}}}function K(t,e,n){for(var r in n)o.call(n,r)&&t[e](r,n[r])}function Q(t,e){return e?L(e)?e(t):M(t)&&(C(e)?e.trim():e)?t.matches(e):u:s}function Y(t,e,n){t.removeEventListener(e,n)}function tt(t){var e=t.currentTarget,n=t.target,r=e[d],i=t.type,o=t.namespace||"",a={e:i,ns:o},c=r[i];P(c.concat(),function(o,f){if(m(f,a)&&function(t,e,n){for(var r=!n;!r&&M(e)&&e!==t;)e.matches(n)&&(r=s),e=e.parentNode;return r}(e,n,f.sel))return f.once&&et(c,r,f,a,e,i),l=f.fn.call(e,t),h=t,l===u&&(h.cancelable&&h.preventDefault(),h.returnValue=u,h.stopPropagation(),h.stopImmediatePropagation()),l;var l,h}),nt(e,r)}function et(t,e,n,r,i,o){t.splice(t.indexOf(n),1),t.length||(z(e,o),Y(i,o,tt))}function nt(t,e){S(e,s)&&z(t,d)}return a(D,{is$:I,query:R,extend:function(t){var e,r=n.call(arguments,1);if(E(t)&&(e=t,t=r.shift()),t&&(w(t)||L(t)))for(var i=0,o=r.length;i<o;i++)q(t,r[i],e);return t},isObjectT:b,isObject:w,isPlainObject:T,isEmptyObject:S,isEmpty:function(t){return!t||w(t)&&S(t,s)},isFunction:L,isString:C,isNumber:x,isBoolean:E,isArray:O,isDate:function(t){return t instanceof Date},isRegExp:function(t){return t instanceof RegExp},isWindow:y,isCurrentWindow:function(t){return t===window},isElement:M,isNode:function(t){return t instanceof Node},isEleWinDoc:N,isNodeList:j,isHTMLCollection:A,parseHTML:function(t,e,r){if(!C(t))return[];if(E(e)&&(r=e,e=u),t=F(t,e),!r)for(var i=t.getElementsByTagName("script"),o=0,a=i.length;o<a;o++){var c=i[o];c.parentNode.removeChild(c)}return n.call(t.childNodes)},parseXML:function(t,e){var n;if(t&&C(t)){try{n=(new DOMParser).parseFromString(t,e||"application/xml")}catch(t){console.error(t)}n&&!n.getElementsByTagName("parsererror").length||(n=f,console.error("Invalid XML: ",t))}return n},newDocument:k,createTempElement:function(t,e){return(e||k()).createElement(t)},innerHTMLToTemp:F,newXMLDocument:function(t,e,n){return i.implementation.createDocument(t,e,n)},createDocFragment:function(t){var e=i.createDocumentFragment();return t&&(e=D(e).append(t)[0]),e},contains:function(t,e){return t!==e&&t.contains(e)},each:W,eachI:P,eachIn:B}),a(D,{get:function(){return Z(_.apply(f,arguments))},post:function(){var t=_.apply(f,arguments);return t.type="POST",Z(t)},getJSON:function(){var t=_.apply(f,arguments);return t.dataType="json",Z(t)},tryDelete:z,runScript:U,ajax:Z,replace:function(t){L(t)&&(Z=t)}}),a(H.prototype,D.fn={ready:X,get:function(t){return t===c?this:this[t]},eq:function(t){return D(-1===t?n.call(this,t):this[t])},first:function(){return this.length?this.eq(0):f},last:function(){return this.length?this.eq(this.length-1):f},filter:function(t){for(var e,n=new H,r=0,i=this.length;r<i;r++)(e=this[r])&&Q(e,t)&&(n[n.length++]=e);return n},find:function(t){if(t){var e=new H;return this.each(function(n,r){e.add(D(t,r))}),e}return this},add:function(t,e){for(var n,i=D(t,e),o=0,a=i.length;o<a;o++)-1===r.call(this,n=i[o])&&(this[this.length++]=n);return this},each:function(t){return W(this,t),this},empty:function(){return this.each(function(t,e){e.innerHTML=""})},parent:function(){var t=new H;return this.each(function(e,n){t.add(n.parentNode)}),t},children:function(){var t=new H;return this.each(function(e,n){t.add(n.children)}),t},clone:function(){var t=new H;return this.each(function(e,n){t.add(n.cloneNode(s))}),t},detach:function(t){return(t?this.filter(t):this).each(function(t,e){var n=e.parentNode;n&&n.removeChild&&n.removeChild(e)})},remove:function(t){return(t?this.filter(t):this).offAll().detach()},html:function(t){return arguments.length?this.each(function(e,n){n.innerHTML=t}):(t=this[0])?t.innerHTML:f},text:function(t){return arguments.length?this.each(function(e,n){n.textContent=t}):(t=this[0])?t.textContent:f},val:function(t){if(t===c){var e=this[0];return"select"===e.nodeName?e.options[e.selectedIndex].value:e.value||e.getAttribute("value")}return this.each(function(e,n){if("select"===n.nodeName){for(var r=0,i=n.options.length;r<i;r++)if(n.options[r].value===t){n.options[r].selected=s;break}}else n.value!==c?n.value=t:n.setAttribute("value",t)}),this},data:function(t,e){if(e!==c)this.each(function(n,r){r.dataset[t]=e});else if(w(t))K(this,"data",t);else if(e=this[0])return e.dataset[t];return this},attr:function(t,e){if(e!==c)this.each(function(n,r){r.setAttribute(t,e)});else if(w(t))K(this,"attr",t);else if(e=this[0])return e.getAttribute(t);return this},prop:function(t,e){if(e!==c)this.each(function(n,r){r[t]=e});else if(w(t))K(this,"prop",t);else if(e=this[0])return e[t];return this},css:function(t,e){if(e!==c)e=L(e)?e():function(t,e){return x(e)&&!v[(n=t,n.replace(/([A-Z])/g,"-$1").toLowerCase())]?e+"px":e;var n}(t,e),this.each(function(n,r){r.style[t]=e});else if(w(t))K(this,"css",t);else if(e=this[0])return e.style[t]||window.getComputedStyle(e)[t];return this},width:function(t){if(!this.length)return f;var e=this[0];if(y(e))return e.innerWidth;if(t){var n=window.getComputedStyle(e);return parseInt(n.marginLeft)+parseInt(n.marginRight)+e.offsetWidth}return e.offsetWidth},height:function(t){if(!this.length)return f;var e=this[0];if(y(e))return e.innerHeight;if(t){var n=window.getComputedStyle(e);return(t?parseInt(n.marginTop)+parseInt(n.marginBottom):0)+e.offsetHeight}return e.offsetHeight},show:function(){this.css("display","block")},hide:function(){this.css("display","none")},toggle:function(){return this.each(function(t,e){"none"===D(e).css("display")?e.show():e.hide()})},index:function(t){return t?r.call(this,D(t)[0]):r.call(this.parent().children(),this[0])},hasClass:function(t){var e=u;return this.each(function(n,r){r.classList.contains(t)&&(e=s)}),e},addClass:function(t){return this.each(function(e,n){n.classList.add(t)})},removeClass:function(t){return this.each(function(e,n){n.classList.remove(t)})},toggleClass:function(t){return this.each(function(e,n){n.classList.toggle(t)})},append:function(t){var e=D(t);return this.each(function(t,n){t>0&&(e=e.clone()),e.each(function(t,e){n.appendChild(e)})})},appendTo:function(t){return D(t).append(this),this},prepend:function(t){var e=D(t);return this.each(function(t,n){t>0&&(e=e.clone()),e.each(function(t,e){n.insertBefore(e,n.firstChild)})})},prependTo:function(t){return D(t).prepend(this),this},before:function(t){var e=D(t);return this.each(function(t,n){t>0&&(e=e.clone()),e.each(function(t,e){n.parentNode.insertBefore(e,n.parentNode.firstChild)})})},insertBefore:function(t){return D(t).before(this),this},after:function(t){var e=D(t);return this.each(function(t,n){t>0&&(e=e.clone()),e.each(function(t,e){n.parentNode.insertBefore(e,n.nextSibling)})})},insertAfter:function(t){return D(t).after(this),this},replaceWith:function(t){return this.before(t).remove()},on:function(t,e,n,r){if(!this.length)return this;var i,o,a=(t=g(t)).e;if(a&&(L(e)?(i="",L(n)||(o=e,r=n)):(i=C(e)?e.trim():"",o=n)),!L(o))return this;var c,f=u;return w(r)?(c=!!r.once,f={capture:u,passive:r.passive}):c=r===s,t.fn=o,t.sel=i,t.once=c,this.each(function(e,n){if(N(n)){var r,i=n[d]||(n[d]={});(i[a]||(r=s)&&(i[a]=[])).push(t),r&&function(t,e,n,r){t.addEventListener(e,n,r)}(n,a,tt,f)}})},off:function(t,e,n){var r,i;if(!this.length)return this;L(e)?i=e:(r=e,i=n);var o=g(t),a=o.e,c=o.ns,u=!e,f=L(i),l=a&&u&&f;return a||c||!u||f?""===a?this.offAll(c,r,n):(o.fn=i,o.sel=r,this.each(function(t,e){N(e)&&(!function(t,e,n){var r=t[d];if(r){var i=r[e];i&&i.concat().forEach(function(o){m(o,n,s)&&et(i,r,o,n,t,e)}),nt(r)}}(e,a,o),l&&Y(e,a,i))})):this},offAll:function(t,e,n){return L(t)?(n=t,t=""):L(e)&&(n=e,e=""),t=C(t)?t:"",this.each(function(r,i){if(N(i)){var o=i[d];if(w(o))for(var a in o)o.hasOwnProperty(a)&&D(i).off(a+t,e,n)}})},trigger:function(t,e){if(!this.length)return this;var n=(t=g(t)).e,r=t.ns;return this.each(function(t,o){if(N(o)){var a=i.createEvent("HTMLEvents");a.data=e,a.namespace=r,a.initEvent(n,s,s),o.dispatchEvent(a)}})}}),D});
